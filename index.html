<!DOCTYPE html>
<html>
  <head>
    <title>QR Code WhatsApp</title>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  </head>
  <body style="text-align: center; font-family: sans-serif">
    <h1>Conectar WhatsApp</h1>
    <button onclick="startBot()">Gerar QR Code</button>
    <div id="status"></div>
    <img id="qr-img" style="margin-top: 20px" />

    <script>
      const socket = io("https://SEU-BACKEND.onrender.com");

      socket.on("qr", (qr) => {
        document.getElementById("qr-img").src =
          "https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=" +
          encodeURIComponent(qr);
      });

      socket.on("status", (status) => {
        document.getElementById("status").innerText =
          status === "connected" ? "âœ… Conectado" : "";
      });

      function startBot() {
        fetch("https://SEU-BACKEND.onrender.com/start-bot")
          .then((res) => res.text())
          .then((txt) => alert(txt));
      }
    </script>
  </body>
</html>
